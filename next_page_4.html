<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–èª•çŸ¥è­˜å¤§æŒ‘æˆ° - é€ç¦®ç‰©è³½</title>
    <style>
        :root {
            --red: #c0392b;
            --green: #27ae60;
            --snow: #ecf0f1;
            --gold: #f1c40f;
            --dark-blue: #0f2027;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Microsoft JhengHei, sans-serif;
            background: #1a2a6c;
            color: white;
            text-align: center;
            scroll-behavior: smooth;
        }

        /* å°è¦½åˆ— */
        .nav-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: rgba(0,0,0,0.5);
            position: sticky;
            top: 0;
            z-index: 500;
        }

        .nav-btn {
            padding: 8px 15px;
            background: transparent;
            border: 1px solid var(--snow);
            color: var(--snow);
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: 0.3s;
        }

        .nav-btn:hover {
            background: var(--snow);
            color: var(--dark-blue);
        }

        /* æ¨™é¡Œèˆ‡å¡ç‰‡æ¨£å¼ */
        header { padding: 50px 20px; background: linear-gradient(to bottom, #0f2027, #203a43); }
        .title { font-size: 3rem; text-shadow: 0 0 10px #ffcf33; margin: 10px 0; }
        
        .info-section { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 40px 20px; }
        .card { background: white; color: #333; width: 250px; padding: 20px; border-radius: 15px; border-bottom: 5px solid var(--red); transition: transform 0.3s; }
        .card:hover { transform: translateY(-10px); }
        .card h3 { color: var(--red); }

        /* éŠæˆ²å€åŸŸ */
        #game-area {
            background: #2c3e50;
            margin: 30px auto 80px auto;
            max-width: 800px;
            padding: 40px;
            border-radius: 20px;
            border: 4px dashed var(--snow);
            position: relative;
        }

        .question-box { font-size: 1.5rem; background: var(--red); padding: 15px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 4px #87281e; }
        .gift-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin-top: 30px; }
        .gift { padding: 15px 25px; background: var(--green); border-radius: 8px; cursor: pointer; transition: 0.2s; box-shadow: 0 4px #145a32; font-weight: bold; }
        .gift:active { transform: translateY(4px); box-shadow: none; }
        .score-board { font-size: 1.2rem; margin-bottom: 20px; color: var(--gold); }
        #result-msg { font-size: 1.2rem; margin-top: 20px; min-height: 1.5em; }

        .chimney-container { display: flex; justify-content: space-around; margin-top: 50px; }
        .chimney { width: 100px; height: 120px; background: #8e44ad; position: relative; border-top: 10px solid #5e2a77; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;}
        .chimney::after { content: 'ğŸ§±'; position: absolute; bottom: 5px; font-size: 25px; }

        /* çµç®—å›é¥‹ç•«é¢ */
        #result-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .medal-icon { font-size: 100px; margin-bottom: 20px; }
        .feedback-title { font-size: 2.5rem; color: var(--gold); margin-bottom: 10px; }
        .feedback-desc { font-size: 1.2rem; margin-bottom: 30px; color: var(--snow); white-space: pre-wrap; }
        
        .btn-group { display: flex; flex-direction: column; gap: 15px; }

        .restart-btn {
            padding: 12px 40px;
            font-size: 1.2rem;
            background: var(--red);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            font-weight: bold;
        }

        .full-reset-btn {
            padding: 12px 40px;
            font-size: 1.2rem;
            background: #5d6d7e;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            font-weight: bold;
        }

        .restart-btn:hover, .full-reset-btn:hover { transform: scale(1.05); filter: brightness(1.2); }

    </style>
</head>
<body>

<nav class="nav-bar">
    <button class="nav-btn" onclick="history.back()">â† å›ä¸Šä¸€é </button>
    <div style="font-weight: bold; color: var(--gold);">è–èª•å°æ•™å®¤</div>
    <div style="width: 80px;"></div> 
</nav>

<header>
    <h1 class="title">ğŸ„ è–èª•å†·çŸ¥è­˜æ¢éšª ğŸ„</h1>
    <p>å…ˆè®€å®Œåº•ä¸‹çš„å†·çŸ¥è­˜ï¼Œå†å¹«è–èª•è€äººæŠŠç¦®ç‰©æŠ•é€²æ­£ç¢ºçš„ç…™å›ªï¼</p>
</header>

<div class="info-section">
    <div class="card">
        <h3>èµ·æºåœ°ï¼Ÿ</h3>
        <p>æœ€æ—©çš„è–èª•è€äººåŸå‹æ˜¯ä¾†è‡ªåœŸè€³å…¶çš„è–å°¼å¤æ‹‰ä¸»æ•™ã€‚</p>
    </div>
    <div class="card">
        <h3>ç´…é¼»å­çš„ç‰ ï¼Ÿ</h3>
        <p>é­¯é“å¤«æ˜¯ç¬¬ä¹éš»é¦´é¹¿ï¼Œç‰ çš„ç´…é¼»å­åœ¨é¢¨é›ªä¸­èƒ½å°èˆªã€‚</p>
    </div>
    <div class="card">
        <h3>å¯å£å¯æ¨‚ï¼Ÿ</h3>
        <p>ç¾ä»£è–èª•è€äººç©¿ã€Œç´…è‰²ã€è¡£æœï¼Œèˆ‡å¯å£å¯æ¨‚åœ¨1930å¹´ä»£çš„å»£å‘Šå®£å‚³æœ‰å¾ˆå¤§é—œä¿‚ã€‚</p>
    </div>
    <div class="card">
        <h3>è–èª•è¥ªï¼Ÿ</h3>
        <p>ç¿’ä¿—æºæ–¼è–å°¼å¤æ‹‰æƒ³å¹«åŠ©è²§çª®ä¸‰å§Šå¦¹ï¼Œå°‡é‡‘å¹£å¾ç…™å›ªä¸Ÿä¸‹ï¼Œå‰›å¥½æ‰é€²çƒ˜ä¹¾çš„è¥ªå­è£¡ã€‚</p>
    </div>
</div>

<hr style="width: 80%; border: 1px solid rgba(255,255,255,0.2); margin: 40px auto;">

<h2 id="quiz-start">ğŸ… è–èª•æŠ•éæŒ‘æˆ°è³½</h2>
<div id="game-area">
    <div class="score-board">ç›®å‰åˆ†æ•¸ï¼š<span id="score">0</span> / 4</div>
    
    <div id="quiz-content">
        <div class="question-box" id="question">é¡Œç›®è¼‰å…¥ä¸­...</div>
        <div class="gift-container" id="options"></div>
    </div>

    <div id="result-msg"></div>

    <div class="chimney-container">
        <div class="chimney">ç…™å›ª A</div>
        <div class="chimney">ç…™å›ª B</div>
        <div class="chimney">ç…™å›ª C</div>
    </div>
</div>

<div id="result-overlay">
    <div class="medal-icon" id="medal-icon">ğŸ†</div>
    <div class="feedback-title" id="feedback-title">æ­å–œå®Œæˆï¼</div>
    <div class="feedback-desc" id="feedback-desc">è©•åƒ¹è¼‰å…¥ä¸­...</div>
    
    <div class="btn-group">
        <button class="restart-btn" onclick="resetQuizOnly()">å†æ¸¬é©—ä¸€æ¬¡</button>
      
        <button class="full-reset-btn" onclick="location.href='index.html'">ğŸ  å›åˆ°èª²ç¨‹é¦–é </button>
    </div>
</div>

<script>
    const quizData = [
        { q: "ç¾ä»£è–èª•è€äººçš„ç´…è‰²å½¢è±¡èˆ‡å“ªå®¶å…¬å¸å»£å‘Šæœ‰é—œï¼Ÿ", options: ["ç™¾äº‹å¯æ¨‚", "å¯å£å¯æ¨‚", "éº¥ç•¶å‹"], correct: 1 },
        { q: "è–èª•è€äººæœ€åˆçš„åŸå‹ä¾†è‡ªå“ªå€‹åœ‹å®¶ï¼Ÿ", options: ["åœŸè€³å…¶", "èŠ¬è˜­", "ç¾åœ‹"], correct: 0 },
        { q: "å“ªéš»é¦´é¹¿æ“æœ‰ç™¼å…‰çš„ç´…é¼»å­ï¼Ÿ", options: ["é”å¤", "èˆè€…", "é­¯é“å¤«"], correct: 2 },
        { q: "é‡‘å¹£æ‰é€²è¥ªå­çš„æ•…äº‹æ˜¯ç‚ºäº†å¹«åŠ©èª°ï¼Ÿ", options: ["è³£ç«æŸ´å¥³å­©", "è²§çª®ä¸‰å§Šå¦¹", "å­¤å…’é™¢çš„å­©å­"], correct: 1 }
    ];

    let currentIdx = 0;
    let score = 0;

    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const scoreEl = document.getElementById('score');
    const msgEl = document.getElementById('result-msg');
    const overlay = document.getElementById('result-overlay');

    function loadQuiz() {
        if (currentIdx >= quizData.length) {
            showFinalResult();
            return;
        }
        msgEl.innerText = "";
        const data = quizData[currentIdx];
        questionEl.innerText = `Q${currentIdx + 1}: ${data.q}`;
        optionsEl.innerHTML = "";
        data.options.forEach((opt, index) => {
            const btn = document.createElement('div');
            btn.className = 'gift';
            btn.innerText = `ğŸ ${opt}`;
            btn.onclick = () => checkAnswer(index);
            optionsEl.appendChild(btn);
        });
    }

    function checkAnswer(choice) {
        if (choice === quizData[currentIdx].correct) {
            score++;
            scoreEl.innerText = score;
            msgEl.style.color = "#2ecc71";
            msgEl.innerText = "âœ… ç­”å°äº†ï¼ç¦®ç‰©æˆåŠŸæŠ•é€²ç…™å›ªï¼";
            setTimeout(() => {
                currentIdx++;
                loadQuiz();
            }, 1000);
        } else {
            msgEl.style.color = "#e74c3c";
            msgEl.innerText = "âŒ å“å‘€ï¼ŒæŠ•éŒ¯äººå®¶äº†ï¼Œå†è©¦ä¸€æ¬¡ï¼";
        }
    }

    function showFinalResult() {
        overlay.style.display = 'flex';
        const medal = document.getElementById('medal-icon');
        const title = document.getElementById('feedback-title');
        const desc = document.getElementById('feedback-desc');

        if (score === 4) {
            medal.innerText = "ğŸ‘‘";
            title.innerText = "å‚³èªªç´šè–èª•è€äººï¼";
            desc.innerText = "ç²å¾—æ»¿åˆ† 4 åˆ†ï¼\nä½ å°è–èª•çŸ¥è­˜ç­è‹¥æŒ‡æŒï¼Œ\nçµ•å°æ˜¯è–èª•ç¯€çš„è¶…ç´šå¤§é”äººï¼";
        } else if (score >= 2) {
            medal.innerText = "ğŸŒŸ";
            title.innerText = "è–èª•çŸ¥è­˜é”äºº";
            desc.innerText = `ç²å¾—äº† ${score} åˆ†ï¼\nè¡¨ç¾å¾—å¾ˆæ£’ï¼ä½ å·²ç¶“å…·å‚™å¹«å¿™\nè–èª•è€äººåˆ†ç™¼ç¦®ç‰©çš„å¯¦åŠ›äº†ã€‚`;
        } else {
            medal.innerText = "ğŸ„";
            title.innerText = "è–èª•å¯¦ç¿’ç”Ÿ";
            desc.innerText = `ç²å¾—äº† ${score} åˆ†ï¼\næ²’é—œä¿‚ï¼Œå†å¤šè®€å¹¾æ¬¡ä¸Šæ–¹çš„çŸ¥è­˜å¡ç‰‡ï¼Œ\næ˜å¹´ä½ ä¸€å®šæœƒæ›´æ£’ï¼`;
        }
    }

    function resetQuizOnly() {
        currentIdx = 0;
        score = 0;
        scoreEl.innerText = score;
        overlay.style.display = 'none';
        loadQuiz();
    }

    function fullReset() {
        currentIdx = 0;
        score = 0;
        scoreEl.innerText = score;
        overlay.style.display = 'none';
        loadQuiz();
        window.scrollTo(0, 0); // å›åˆ°æœ€ä¸Šæ–¹é–±è®€å€
    }

    loadQuiz();
</script>

</body>
</html>